\ 51 live slave modeanew task-51_live_slavev: curr-sectionob.array times-arrayv: #-repeats16 value slave-channel \ generally, this will be receiving on midi channel						\ 1660 value new-section-signal 	\ midi note 60 means a new section is starting						\ the velocity of that note will contain the section						\ # we're going to50 value to-new-section-signal 	\ midi note 60 means a new section is starting						\ the velocity of that note will contain the section						\ # we're going to						70 value #-repeats-signal	\ a midi note 70 says this is the #-repeats							\ contained in the velocity		40 value times-offset	\ 40 - is the times, with the number in the velocity									: SLAVE.NOTEON  { note vel -- }	mp.channel@ slave-channel =	IF		note to-new-section-signal =		IF			bell  cr cr cr cr cr cr tab tab ." going to new section " vel . cr		THEN		note new-section-signal =		IF			bell   cr tab tab ." SECTION: " vel . cr		THEN		note #-repeats-signal =		IF			bell  tab tab ." Repeats: " vel . cr		THEN	THEN;\ this is just a kluge for the first section, which has a "velocity" of zero: SLAVE.NOTEOFF { note vel -- }	mp.channel@ slave-channel =	IF	note new-section-signal =		IF			bell    cr tab tab ." SECTION: " vel . cr		THEN	THEN;	: 51.SLAVE.INIT	11 new: times-array	cr cr cr cr cr	18 set.text.size	false hmsl-graphics !	." INITIALIZING 51 SLAVE MODE "	'c slave.noteon mp-on-vector !	'c slave.noteoff mp-off-vector !	midi.clear	midi.flush	midi.parser.on	hmsl	cr cr cr;: DO.51.SLAVE	51.slave.init;: GO	do.51.slave;: 51.SLAVE.TERM	midi.clear	midi.flush	mp.reset	free: times-array;18 set.text.sizecr cr cr ." Type GO to put this mac in slave mode " cr ." for 51 Harmonies " cr cr cr cr cr