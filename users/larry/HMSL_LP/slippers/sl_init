\ Slippers of steel\ polansky and didkovsky\ 4/28/91\ INITIALIZATION FILE\ we need to add a job that times out layers and hits sections at some\ max times for each, so that the total time for the piece can have a \ ceiling...anew task-sl_initv: sl_startimev: sl_endtime: PRINT.TIME ( -- show length of piece )	sl_endtime @ sl_startime @ 	- dup 3600 / 	swap	60 mod	swap	cr  . .	." Min/sec. long... " cr;: INIT.VARS.VALS	\ main repeat of piece...	3 set.slippers.repeats	1200 highest-hit-rate !	150 lowest-hit-rate !	\ delay time between dep and jobs	60 hit-delay-time !	\ treated as 0..100 probability in repeat functions of c-hit and c-layers		12 change-to-hits-prob ! \ other computer also has these!!!	9 change-to-layers-prob !	\ interpolator rate, longest and shortest layers....	15 interp-dur ! 	15 snapshot-rate !	1200 layer-longest ! \ longest possible single layer is 20 seconds	240 layer-shortest !  \ shortest possible single layer is 4 seconds;: INIT.SLIPPERS.OBJECTS	init.j-snapshot	init.j-send.a.hit	init.c-hit	init.s-data	init.c-layers	init.c-layers-section	init.j-interpolator	init.j-timeout	init.c-slippers	init.j-guitar-commands;: INIT.SLIPPERS ( -- )	big.midi.buffer \ use the big midi buffer	midi.clear 	mp.reset  	midi.parser.on	eb.on	hmsl-graphics off \ don't need to see hmsl screens	init.vars.vals  	init.slippers.objects  	init.slip.control	init.user	cr ." Slippers initialized " cr;: PRINT.SLIPPER.STATS	." Number of repeats for piece: " get.repeat: c-slippers . cr tab	." Layer longest: " layer-longest ? cr tab	." Layer shortest: " layer-shortest ?  cr tab	." snapshot-rate: " snapshot-rate ? cr tab    ." interp-dur: " interp-dur ? cr tab	." change-to-hits prob " change-to-hits-prob ? cr tab	." change-to-layers prob " change-to-layers-prob ? cr tab	cr cr cr;: TERM.SLIPPERS.OBJECTS	free: j-send.a.hit	free: s-data	free: c-layers-section	free: c-layers	free: j-snapshot	free: j-guitar-commands	free: j-interpolator	free: c-hit	free: j-timeout	free: j-guitar-commands	term.user;: SLIPPERS	time@ sl_startime !	init.slippers	PRINT.SLIPPER.STATS	midi.clear	c-slippers hmsl.play	time@ sl_endtime !	hmsl.stop	print.time	term.slippers.objects;cr cr ." Type: SLIPPERS to hear the piece... " cr cr if.forgotten term.slippers.objects