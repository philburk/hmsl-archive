\ CONTROLS file\ 4/29/91		\ for Slippers of Steel\ Nick Didkovsky, author\ Treat control values  differently depending on controller number \ modification of sl_sysex to fix midi manager bug on mac... bypasses sysexanew task-sl_controlsdecimal\ *************************** INCOMING CONTROLS ************************: RECEIVE.LAYERS ( -- )  ." receiving LAYERS controls" cr   stop: c-hit;: RECEIVE.HITS ( -- )." receiving HITS controls " cr  stop: c-layers-section;: RECEIVE.A.HIT ( -- )\	0 put.start.delay: user-hit	hit-delay-time @ put.start.delay: user-hit	start: user-hit 	." receiving HIT NOW controls " cr	..stuff.user-hit\	..hit.dep-5;: RECEIVE.DATA { control# value -- }\	." receiving DATA controls " cr	control# dim_0_control dup dimension: s-data + 1- within?		IF		value		his_curr control# dim_0_control - 		ed.to: s-data	ELSE		control# value . . ." control# out of range"  cr	THEN;: SLIP.PROCESS.CONTROL { control# value -- }	control# slip_data_transfer >=	IF		control# value receive.data	ELSE	control# 		 CASE   			slip_hits_section OF receive.hits ENDOF  			slip_layers_section OF receive.layers ENDOF  			slip_hit_now OF receive.a.hit ENDOF  		ENDCASE	THEN;\ *************************** OUTGOING CONTROLS ************************: VTIME.NOW	rtc.time@ vtime!;: SEND.LAYERS ( -- )	vtime.now  slip_layers_section 0 midi.control;: SEND.HITS ( -- )	vtime.now  slip_hits_section 0 midi.control;: SEND.A.HIT ( -- )	cr ." Larry  hit " cr	vtime.now	hit-delay-time @ put.start.delay: user-hit    slip_hit_now 0 midi.control;\ send out: control# value... where control# = dimension+100, value is s-data value: SEND.DATA ( -- )	vtime.now 	dimension: s-data 0 	DO		i dim_0_control +       	my_curr i ed.at: s-data 		0 127 clipto		midi.control		 	LOOP;: INIT.SLIP.CONTROL ( -- )	 'c slip.process.control mp-control-vector !;: TEST ( -- )  init.slip.control  hmsl.start;