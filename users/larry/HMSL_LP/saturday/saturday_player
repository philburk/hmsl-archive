\ Saturday playeranew task-saturday_playerob.player saturday-playerob.shape saturday-shapeob.instrument saturday-instrumentob.translator saturday-translatorob.shape saturday-tuning1 value translate?: BUILD.SATURDAY-TRANSLATOR	6 new: saturday-translator	stuff{ 0 243 410 745 969 1210 }stuff: saturday-translator	6 put.modulus: saturday-translator	6000 put.offset: saturday-translator;: BUILD.SATURDAY-TUNING	6 1 new: saturday-tuning	stuff{ 0 243 410 745 969 1210 }stuff: saturday-tuning	saturday-tuning add: shape-holder	" tuning " 0 put.dim.name: saturday-tuning;: MIDI.KILL.FB {  -- }	9000 4000 	DO		i fb.cents->nf		fb.fract.off	LOOP;100 value scalar: CALC.CHORD { harm cents --  }	harm scalar * 	dup	choose choose  choose - 	cents +;: SATURDAY-INTERPRETER.ON { el shape ins | vel cents -- }	many: saturday-tuning	0 DO		i 0 ed.at: saturday-tuning		i to: saturday-translator	LOOP	49 midi.preset	el 1 shape ed.at: [] -> cents	fb.start.events	translate? 1 = IF		cents translate: saturday-translator	THEN	-> cents	cents fb.cents->nf 	el 2 shape ed.at: [] ( -- note fraction vel )	dup -> vel	fb.fract.on	translate? 0=	IF		el 3 shape ed.at: [] ( -- harm )		cents calc.chord fb.cents->nf vel fb.fract.on		fb.stop.events	THEN;	: SATURDAY-INTERPRETER.OFF { el shape ins | cents -- }	translate? 0=	IF		fb.start.events		el 1 shape ed.at: [] -> cents ( -- )		cents fb.cents->nf 		fb.fract.off		el 3 shape ed.at: [] ( -- harm )		cents calc.chord ( -- cents )		fb.cents->nf		fb.fract.off		fb.stop.events	THEN;: BUILD.SATURDAY-INSTRUMENT	build.saturday-translator	build.saturday-tuning	'c saturday-interpreter.on put.on.function: saturday-instrument	'c saturday-interpreter.off put.off.function: saturday-instrument	1 put.channel: saturday-instrument	saturday-translator put.gamut: saturday-instrument;: BUILD.SATURDAY-SHAPE	." building shape now " 	10 4 new: saturday-shape	saturday-shape add: shape-holder	9 0	DO		30 10 wchoose 7 choose 96 		4 choose		add: saturday-shape	LOOP	" Duration " 0 put.dim.name: saturday-shape	" Cents " 1 put.dim.name: saturday-shape	" Velocity " 2 put.dim.name: saturday-shape	" Interval " 3 put.dim.name: saturday-shape;: INIT.SATURDAY-PLAYER	." Inititing saturday player "	1 new: saturday-player	0 put.dur.dim: saturday-player	1000 put.repeat: saturday-player	play.on&off: saturday-player	saturday-instrument put.instrument: saturday-player	build.saturday-shape	saturday-shape add: saturday-player	build.saturday-instrument;: TERM.SATURDAY-PLAYER	free: saturday-player	free: saturday-shape	free: saturday-instrument	clear: shape-holder;