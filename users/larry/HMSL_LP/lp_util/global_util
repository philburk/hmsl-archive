\ lp global utilities\ hmsl based\ author: lp  6/87\ these are general utilities, not quite general enough to be \ included in hmsl\ 5\26\90 added fix to input? and midi.uncloganew task-global_util\ ================== some midi stuff ======================\ these following midi words are used in the dep-5 libaries\ fbo1 libraries, and all others.\  start and end midi system exclusive messageshex: SYSEX f0 midi.xmit ;: ENDSYSEX f7 midi.xmit ;decimal\ utility for midi sysex codes that need successive nibbleshex: LO/HI.MASK  ( byte-data -- , sends it out to midi device in two nibbles )		( first lo, then hi )		dup 0000000f and midi.xmit	000000f0 and -4 ashift midi.xmit;\ 4.0 bug in midi manager fix as suggested by release notes...: MIDI.UNCLOG	time@	( homaxint ) 30000 vtime!	2000 msec 	time!;decimal\ ================= general forth stuff ===============: NEG/POS (  -- , randomly returns 1 or -1 )	2 choose 0= 		IF -1		ELSE 1		THEN;: *OR/ ( -- , randomly multiply or divide )	2 choose 0= 		IF *		ELSE /		THEN;\ number inputting utility taken from phil's forth manual\ this is special for macintosh... adds in extra space...: INPUT$ ( -- $addr )	pad 1+	128 expect	span @ pad c!	pad	\ this last line is special mac fix...	bl span @ pad + 1+ c!;: INPUT# ( -- n true | false )	input$	number?	IF drop true	ELSE false	THEN;\ following word selects random value within a given range to be added to a given value\ example: 100 10 add.range +    -- adds +- 5 to 100  : ADD.RANGE ( range -- value , value to add to "source" value )	dup choose swap 2/ - ;	\ ============================\ some auto-init goodies: AUTI.INIT auto.init history.reset ;