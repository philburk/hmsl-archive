\ Roads to Chimacum\ Shapes to MIDIFile outputanew task-roads_MIDI-shapesob.new-shape all-shapes-1.compob.new-shape all-shapes-2.compob.new-shape all-shapes-3.compob.new-shape all-shapes-4.comp\ the expanded shapes are newed in the expansion processob.new-shape all-shapes-1.expob.new-shape all-shapes-2.expob.new-shape all-shapes-3.expob.new-shape all-shapes-4.exp\ the list contains the relative shapesob.objlist all-shapes-list: INIT.ALL-SHAPES	18 r_length * 4 new: all-shapes-1.comp	." all shapes 1 newed "	18 r_length * 4 new: all-shapes-2.comp		." all shapes 2 newed "	18 r_length * 4 new: all-shapes-3.comp		." all shapes 3 newed "	18 r_length * 4 new: all-shapes-4.comp		." all 	700 rtc.rateshapes 4 newed "	4 new: all-shapes-list	stuff{ all-shapes-1.comp all-shapes-2.comp all-shapes-3.comp all-shapes-4.comp	}stuff: all-shapes-list;\ these are relative shapes....: MAKE.ALL-SHAPES { | curr-shape curr-player indx part# -- }	cr ." Making All-shapes from players " cr	18 0 DO	." . "	i -> indx		4 0 DO			i -> part#			part# at: r-players			-> curr-player			indx curr-player at: []			-> curr-shape			many: curr-shape 0			DO				i curr-shape get: []				part# at: all-shapes-list				add: []			LOOP		LOOP	LOOP		cr;: PROCESS.ALL-SHAPES {  | shape -- }	cr	4 0 DO		." Processing all-shapes " i 1+ . cr		i at: all-shapes-list -> shape		shape rel.shape->finale: []	LOOP	cr	." Expanding all-shapes now "	all-shapes-1.comp all-shapes-1.exp sh.expand.notes ." . "	all-shapes-2.comp all-shapes-2.exp sh.expand.notes ." . "	all-shapes-3.comp all-shapes-3.exp sh.expand.notes ." . "	all-shapes-4.comp all-shapes-4.exp sh.expand.notes ." . "	cr;\ best to just do this from the screen....false .if	cr ." Writing all-shapes to midifiles " 	all-shapes-1.exp save.abs.shape roads:as1.mf ." . "	all-shapes-2.exp save.abs.shape roads:as2.mf ." . "	all-shapes-3.exp save.abs.shape roads:as3.mf ." . "	all-shapes-4.exp save.abs.shape roads:as4.mf ." .    done " cr.then: TERM.ALL-SHAPES	freeall: all-shapes-list	free: all-shapes-list	free: all-shapes-1.exp	free: all-shapes-2.exp	free: all-shapes-3.exp	free: all-shapes-4.exp;if.forgotten term.all-shapes