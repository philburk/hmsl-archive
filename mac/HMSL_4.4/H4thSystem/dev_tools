\ Development Tools for HForth\\ *********************************************************************\ * HMSL Forth System                                                 *\ * Author: Phil Burk                                                 *\ * Copyright 1989 Phil Burk , All Rights Reserved                    *\ *********************************************************************\\ MOD: PLB 6/24/91 Add ?PAUSE to WORDS.LIKEanew task-dev_toolsdecimal: MAP  ( -- , print statistics )	cr	." Compiled Code  = " here codebase - 10 .r cr	." CodeBase       = " codebase 10 .r cr	." CODE-SIZE      = " code-size @ 10 .r cr	." Code Left      = " code-limit @ here - 10 .r cr	cr	." Compiled Names = " latest namebase - 10 .r cr	." NameBase       = " namebase 10 .r cr	." HEADERS-SIZE   = " headers-size @ 10 .r cr	." Headers Left   = " headers-limit @ latest - 10 .r cr	." Base = " base @ dup >r decimal 10 .r r> base ! cr;: PARTIAL.MATCH  ( $str1 $str2 -- is $str1 in @str2 ??? )	swap count  ( -- $str2 addr1 count1 )	rot count  ( -- a1 c1 a2 c2 )	2 pick - 1+ 0 max 0	DO  ( -- a1 c1 a2 )		2 pick over ( -- a1 c1 a2  a1 a2 )		3 pick compare 0=		IF drop 0 LEAVE		ELSE 1+		THEN	LOOP	( a1 c1 a2' | a1 c1 0 )	>r 2drop r> 0= ( convert zero to flag );: WORDS.LIKE  ( <name> -- , print all words containing substring )	BL word latest	>newline	BEGIN prevname dup 0>	WHILE 2dup partial.match		IF dup id. tab			cr? ?pause		THEN	REPEAT 2drop	>newline;: WORDS-LIKE  ( <name> -- , like JForth name )	words.like;: $TYPEFILE { $name | fid nchars -- }	$name $fopen dup -> fid	IF	>newline		BEGIN fid pad 256 fread			dup -> nchars  0>		WHILE			pad nchars			BEGIN ?stop				IF fid fclose abort				THEN				extract.line type cr				dup 0=			UNTIL 2drop		REPEAT		fid fclose	THEN;: TYPEFILE  ( <name> -- )	fileword $typefile;